(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index"],{"0523":function(t,e,n){"use strict";(function(t){n("520f");o(n("66fd"));var e=o(n("a90b"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("a821")["createPage"])},3048:function(t,e,n){},"79ac":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n("a34a"));function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n,o,r,a,i){try{var s=t[a](i),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(o,r)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(o,r){var i=t.apply(e,n);function s(t){a(i,o,r,s,u,"next",t)}function u(t){a(i,o,r,s,u,"throw",t)}s(void 0)})}}var s={name:"home",data:function(){return{isLoading:!0,curPage:0,postData:[],cardCur:0,swiperList:[{id:0,type:"image",url:"https://ossweb-img.qq.com/images/lol/web201310/skin/big84000.jpg"},{id:1,type:"image",url:"https://ossweb-img.qq.com/images/lol/web201310/skin/big84000.jpg"},{id:2,type:"image",url:"https://ossweb-img.qq.com/images/lol/web201310/skin/big84000.jpg"}],dotStyle:!1,towerStart:0,direction:""}},methods:{cardSwiper:function(t){this.cardCur=t.detail.current},formatTime:function(t){return this.$moment.unix(t).fromNow()},loadPost:function(){var e=i(o.default.mark(function e(){var n;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,this.postData.curPage%10==0&&(this.postData=[]),e.next=4,this.$api.getRecentPost({page:this.curPage+1});case 4:n=e.sent,null!=n&&n.length>0&&(this.postData=this.postData.concat(n),this.curPage++),this.isLoading=!1,t.stopPullDownRefresh();case 8:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}()},onReady:function(){var t=i(o.default.mark(function t(){var e=this;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadPost();case 2:this._observer=wx.createIntersectionObserver(this),this._observer.relativeToViewport({bottom:600}).observe(".action",function(t){console.log(t),e.loadPost()});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),pageLifetimes:{onReachBottom:function(){console.log("触底事件"),this.loadPost()},onPullDownRefresh:function(){this.curPage=0,this.postData=[],this.loadPost()}}};e.default=s}).call(this,n("a821")["default"])},"7e1c":function(t,e,n){"use strict";n.r(e);var o=n("79ac"),r=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=r.a},a90b:function(t,e,n){"use strict";n.r(e);var o=n("b6f0"),r=n("7e1c");for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);n("db8b");var i,s=n("f0c5"),u=Object(s["a"])(r["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);e["default"]=u.exports},b6f0:function(t,e,n){"use strict";var o,r=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.postData,function(e,n){var o=t.formatTime(e.created);return{$orig:t.__get_orig(e),m0:o}}));t.$mp.data=Object.assign({},{$root:{l0:n}})},a=[];n.d(e,"b",function(){return r}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return o})},db8b:function(t,e,n){"use strict";var o=n("3048"),r=n.n(o);r.a}},[["0523","common/runtime","common/vendor"]]]);